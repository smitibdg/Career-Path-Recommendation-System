import React from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';

// ‚úÖ Context Providers (Global State Management)
import { AuthProvider } from './context/AuthContext';
import { UserProvider } from './context/UserContext';
// ‚ùå REMOVED: import { ThemeProvider } from './context/ThemeContext';

// ‚úÖ Common Components
import ErrorBoundary from './components/common/ErrorBoundary/ErrorBoundary';
import ScrollToTop from './components/common/ScrollToTop/ScrollToTop'; // ‚úÖ NEW: Added ScrollToTop

// ‚úÖ Authentication Components
import ProtectedRoute from './components/auth/ProtectedRoute/ProtectedRoute';

// ‚úÖ Page Components (Updated paths if needed)
import LandingPage from './pages/LandingPage/LandingPage';
import DashboardPage from './pages/DashboardPage/DashboardPage';
import NotFoundPage from './pages/NotFoundPage/NotFoundPage';

// ‚úÖ Profile Component (Check if path matches your actual folder name)
import ProfileForm from './components/profile/ProfileCreationForm/ProfileCreationForm';
// Alternative if you renamed it: import ProfileCreationForm from './components/profile/ProfileCreationForm/ProfileCreationForm';

// ‚úÖ Global Styles
import './App.css';

function App() {
  return (
    <ErrorBoundary>
      {/* ‚ùå REMOVED: <ThemeProvider> - Theme functionality temporarily disabled */}
      <AuthProvider>
        <UserProvider>
          <Router>
            {/* ‚úÖ NEW: ScrollToTop ensures all page navigation starts at top */}
            <ScrollToTop />
            
            {/* ‚úÖ NO HEADER OR FOOTER HERE - Only on Landing Page */}
            <div className="App">
              <Routes>
                {/* üè† Landing Page - Public route with header/footer */}
                <Route path="/" element={<LandingPage />} />
                
                {/* üë§ Profile Creation - Protected route after signup */}
                <Route 
                  path="/profile" 
                  element={
                    <ProtectedRoute>
                      <ProfileForm />
                    </ProtectedRoute>
                  } 
                />
                
                {/* üìä Main Dashboard - Protected route with sidebar */}
                <Route 
                  path="/dashboard" 
                  element={
                    <ProtectedRoute>
                      <DashboardPage />
                    </ProtectedRoute>
                  } 
                />
                
                {/* üö´ 404 Not Found - Catch all unmatched routes */}
                <Route path="*" element={<NotFoundPage />} />
              </Routes>
            </div>
          </Router>
        </UserProvider>
      </AuthProvider>
      {/* ‚ùå REMOVED: </ThemeProvider> */}
    </ErrorBoundary>
  );
}

export default App;